CCS PCH C Compiler, Version 4.140, 31805               12-fev-14 13:48

               Filename:   D:\Eletronica\Projetos\CCP\ccp.lst

               ROM used:   456 bytes (1%)
                           Largest free fragment is 32312
               RAM used:   10 (1%) at main() level
                           14 (1%) worst case
               Stack:     2 locations

*
0000:  GOTO   012E
.................... #include <18F45K20.h> 
.................... //////// Standard Header file for the PIC18F45K20 device //////////////// 
.................... #device PIC18F45K20 
.................... #list 
....................  
....................  
.................... #FUSES H4 
....................  
.................... #use delay(crystal=15MHz, clock=60MHz) 
*
000E:  CLRF   FEA
0010:  MOVLW  0A
0012:  MOVWF  FE9
0014:  MOVF   FEF,W
0016:  BZ    0034
0018:  MOVLW  13
001A:  MOVWF  01
001C:  CLRF   00
001E:  DECFSZ 00,F
0020:  BRA    001E
0022:  DECFSZ 01,F
0024:  BRA    001C
0026:  MOVLW  73
0028:  MOVWF  00
002A:  DECFSZ 00,F
002C:  BRA    002A
002E:  NOP   
0030:  DECFSZ FEF,F
0032:  BRA    0018
0034:  GOTO   018E (RETURN)
.................... #use rs232(xmit=PIN_C6, baud=9600) 
0038:  BCF    F94.6
003A:  BCF    F8B.6
003C:  MOVLW  08
003E:  MOVWF  01
0040:  BRA    0042
0042:  NOP   
0044:  BSF    01.7
0046:  BRA    0064
0048:  BCF    01.7
004A:  RRCF   0C,F
004C:  BTFSC  FD8.0
004E:  BSF    F8B.6
0050:  BTFSS  FD8.0
0052:  BCF    F8B.6
0054:  BSF    01.6
0056:  BRA    0064
0058:  BCF    01.6
005A:  DECFSZ 01,F
005C:  BRA    004A
005E:  BRA    0060
0060:  NOP   
0062:  BSF    F8B.6
0064:  MOVLW  02
0066:  MOVWF  00
0068:  CLRF   FE9
006A:  DECFSZ FE9,F
006C:  BRA    006A
006E:  DECFSZ 00,F
0070:  BRA    0068
0072:  BRA    0074
0074:  BTFSC  01.7
0076:  BRA    0048
0078:  BTFSC  01.6
007A:  BRA    0058
007C:  RETURN 0
....................  
.................... int cont = 0; 
.................... int duty = 0; 
.................... long tempoAux = 0; 
.................... short ctrl = TRUE; 
.................... int main(void) { 
*
012E:  CLRF   FF8
0130:  BCF    FD0.7
0132:  CLRF   FEA
0134:  CLRF   FE9
0136:  BCF    F94.6
0138:  BSF    F8B.6
013A:  CLRF   04
013C:  CLRF   05
013E:  CLRF   07
0140:  CLRF   06
0142:  BSF    08.0
0144:  MOVLW  00
0146:  MOVWF  F7E
0148:  BCF    FC1.4
014A:  BCF    FC1.5
014C:  MOVF   F7F,W
014E:  ANDLW  E0
0150:  MOVWF  F7F
0152:  BCF    F79.5
0154:  BCF    F79.4
0156:  CLRF   F7A
0158:  CLRF   F7B
....................  
.................... 	setup_ccp1(CCP_PWM); 
015A:  BCF    F94.2
015C:  BCF    F8B.2
015E:  MOVLW  0C
0160:  MOVWF  FBD
0162:  CLRF   FB7
0164:  CLRF   FB6
0166:  MOVLW  01
0168:  MOVWF  FB9
.................... 	setup_timer_2(T2_DIV_BY_1, 255, 1); 
016A:  MOVLW  00
016C:  IORLW  04
016E:  MOVWF  FCA
0170:  MOVLW  FF
0172:  MOVWF  FCB
.................... 	set_pwm1_duty(127); 
0174:  MOVLW  7F
0176:  MOVWF  FBE
....................  
.................... 	while (TRUE) { 
.................... //		cont = ctrl ? cont + 10 : cont - 10; 
.................... //		if (cont == 30) 
.................... //			ctrl = TRUE; 
.................... //		else if (cont == 127) 
.................... //			ctrl = FALSE; 
.................... //		set_pwm1_duty(cont); 
.................... //		delay_ms(100); 
.................... 		if (!input(PIN_B0) && ctrl) { 
0178:  BSF    F93.0
017A:  BTFSC  F81.0
017C:  BRA    01B4
017E:  BTFSS  08.0
0180:  BRA    01B4
.................... 			ctrl = FALSE; 
0182:  BCF    08.0
.................... 			delay_ms(300); 
0184:  MOVLW  02
0186:  MOVWF  09
0188:  MOVLW  96
018A:  MOVWF  0A
018C:  BRA    000E
018E:  DECFSZ 09,F
0190:  BRA    0188
.................... 			set_pwm1_duty(cont); 
0192:  MOVFF  04,FBE
.................... 			printf("\fduty: %u", cont); 
0196:  MOVLW  04
0198:  MOVWF  FF6
019A:  MOVLW  00
019C:  MOVWF  FF7
019E:  MOVLW  07
01A0:  MOVWF  09
01A2:  BRA    007E
01A4:  MOVFF  04,09
01A8:  MOVLW  1B
01AA:  MOVWF  0A
01AC:  BRA    00C6
.................... 			cont += 8; 
01AE:  MOVLW  08
01B0:  ADDWF  04,F
....................  
.................... 		} else if (input(PIN_B0) && !ctrl) 
01B2:  BRA    01C0
01B4:  BSF    F93.0
01B6:  BTFSS  F81.0
01B8:  BRA    01C0
01BA:  BTFSC  08.0
01BC:  BRA    01C0
.................... 			ctrl = TRUE; 
01BE:  BSF    08.0
.................... 	} 
01C0:  BRA    0178
....................  
.................... 	return 0; 
01C2:  MOVLW  00
01C4:  MOVWF  01
.................... } 
01C6:  SLEEP 

Configuration Fuses:
   Word  1: C600   H4 FCMEN IESO
   Word  2: 1E1E   PUT BROWNOUT BORV18 NOWDT WDT32768
   Word  3: 8F00   CCP2C1 PBADEN LPT1OSC HFOFST MCLR
   Word  4: 0081   STVREN NOLVP NOXINST NODEBUG
   Word  5: C00F   NOPROTECT NOCPB NOCPD
   Word  6: E00F   NOWRT NOWRTC NOWRTB NOWRTD
   Word  7: 400F   NOEBTR NOEBTRB
